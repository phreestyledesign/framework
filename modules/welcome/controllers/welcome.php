<?php

Class Welcome extends Welcome_Controller {
    
    function __construct()
    {   
        parent::__construct();
        
        // loader::base_helper('hmvc');
    }           
    
    public function index()
    {     
        view_var('title', 'Welcome to Obullo Framework !');
        $data['var'] = 'and generated by ';
        
        $params = array(
            'mode'         => 'Sliding',  // Jumping
            'per_page'     => 8,
            'delta'        => 2,
            'http_method'  => 'GET',
            'query_string' => FALSE,
            'current_page' => $this->uri->segment(3),
            'base_url'     => '/framework/index.php/welcome/welcome/index/',
        );

        // just dummy data
        $params['item_data']  = range(1, 1000);

        $pager = lib('Pager')->init($params);

        $data  = $pager->get_page_data();
        $links = $pager->get_links();

        // $links is an ordered + associative array with 'back'/'pages'/'next'/'first'/'last'/'all' links.
        // NB: $links['all'] is the same as $pager->links;

        echo $links['all'];

        echo '<hr />';

        // Show data for current page:
        echo 'PAGED DATA: '; print_r($data);

        echo '<hr />';
        
        $data['var'] = '';
        
        /*
        $query ='dfdf';
        $hmvc = hmvc_request('get', 'api/v3?query=SELECT * FROM&a=b<b>ersin</b>', array('query' => $query));
        echo $hmvc->exec()->response();
        */
        view_var('body', view('view_welcome', $data));
        view_layout('layout_welcome'); 
    }
    
}

/* End of file start.php */
/* Location: .modules/welcome/controllers/welcome.php */